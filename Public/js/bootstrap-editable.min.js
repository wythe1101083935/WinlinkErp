/*! X-editable - v1.5.3 
* In-place editing with Twitter Bootstrap, jQuery UI or pure jQuery
* http://github.com/vitalets/x-editable
* Copyright (c) 2015 - 2016 Vitaliy Potapov; Licensed MIT */
/**
Form with single input element, two buttons and two states: normal/loading.
Applied as jQuery method to DIV tag (not to form tag!). This is because form can be in loading state when spinner shown.
Editableform is linked with one of input types, e.g. 'text', 'select' etc.

@class editableform
@uses text
@uses textarea
**/(function(b){var c=function(a,e){this.options=b.extend({},b.fn.editableform.defaults,e);this.$div=b(a);this.options.scope||(this.options.scope=this)};c.prototype={constructor:c,initInput:function(){this.input=this.options.input;this.value=this.input.str2value(this.options.value);this.input.prerender()},initTemplate:function(){this.$form=b(b.fn.editableform.template)},initButtons:function(){var a=this.$form.find(".editable-buttons");a.append(b.fn.editableform.buttons);"bottom"===this.options.showbuttons&&a.addClass("editable-buttons-bottom")},render:function(){this.$loading=b(b.fn.editableform.loading);this.$div.empty().append(this.$loading);this.initTemplate();this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove();this.showLoading();this.isSaving=!1;this.$div.triggerHandler("rendering");this.initInput();this.$form.find("div.editable-input").append(this.input.$tpl);this.$div.append(this.$form);b.when(this.input.render()).then(b.proxy(function(){this.options.showbuttons||this.input.autosubmit();this.$form.find(".editable-cancel").click(b.proxy(this.cancel,this));this.input.error?(this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(a){a.preventDefault()})):(this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled"),this.input.value2input(null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value),this.$form.submit(b.proxy(this.submit,this)));this.$div.triggerHandler("rendered");this.showForm();this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var a,b;this.$form?(a=this.$form.outerWidth(),b=this.$form.outerHeight(),a&&this.$loading.width(a),b&&this.$loading.height(b),this.$form.hide()):(a=this.$loading.parent().width())&&this.$loading.width(a);this.$loading.show()},showForm:function(a){this.$loading.hide();this.$form.show();!1!==a&&this.input.activate();this.$div.triggerHandler("show")},error:function(a){var e=this.$form.find(".control-group"),d=this.$form.find(".editable-error-block");if(!1===a)e.removeClass(b.fn.editableform.errorGroupClass),d.removeClass(b.fn.editableform.errorBlockClass).empty().hide();else{if(a){a=(""+a).split("\n");for(var c=0;c<a.length;c++)a[c]=b("\x3cdiv\x3e").text(a[c]).html();a=a.join("\x3cbr\x3e")}e.addClass(b.fn.editableform.errorGroupClass);d.addClass(b.fn.editableform.errorBlockClass).html(a).show()}},submit:function(a){a.stopPropagation();a.preventDefault();var e=this.input.input2value();a=this.validate(e);if("object"===b.type(a)&&void 0!==a.newValue){if(e=a.newValue,this.input.value2input(e),"string"===typeof a.msg){this.error(a.msg);this.showForm();return}}else if(a){this.error(a);this.showForm();return}if(this.options.savenochange||this.input.value2str(e)!==this.input.value2str(this.value)){var d=this.input.value2submit(e);this.isSaving=!0;b.when(this.save(d)).done(b.proxy(function(a){this.isSaving=!1;var b="function"===typeof this.options.success?this.options.success.call(this.options.scope,a,e):null;!1===b?(this.error(!1),this.showForm(!1)):"string"===typeof b?(this.error(b),this.showForm()):(b&&"object"===typeof b&&b.hasOwnProperty("newValue")&&(e=b.newValue),this.error(!1),this.value=e,this.$div.triggerHandler("save",{newValue:e,submitValue:d,response:a}))},this)).fail(b.proxy(function(a){this.isSaving=!1;a="function"===typeof this.options.error?this.options.error.call(this.options.scope,a,e):"string"===typeof a?a:a.responseText||a.statusText||"Unknown error!";this.error(a);this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(a){this.options.pk=b.fn.editableutils.tryParseJson(this.options.pk,!0);var e="function"===typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;if("function"===typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!==e&&void 0!==e))return this.showLoading(),a={name:this.options.name||"",value:a,pk:e},"function"===typeof this.options.params?a=this.options.params.call(this.options.scope,a):(this.options.params=b.fn.editableutils.tryParseJson(this.options.params,!0),b.extend(a,this.options.params)),"function"===typeof this.options.url?this.options.url.call(this.options.scope,a):b.ajax(b.extend({url:this.options.url,data:a,type:"POST"},this.options.ajaxOptions))},validate:function(a){void 0===a&&(a=this.value);if("function"===typeof this.options.validate)return this.options.validate.call(this.options.scope,a)},option:function(a,b){a in this.options&&(this.options[a]=b);"value"===a&&this.setValue(b)},setValue:function(a,b){this.value=b?this.input.str2value(a):a;this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}};b.fn.editableform=function(a){var e=arguments;return this.each(function(){var d=b(this),g=d.data("editableform"),f="object"===typeof a&&a;g||d.data("editableform",g=new c(this,f));"string"===typeof a&&g[a].apply(g,Array.prototype.slice.call(e,1))})};b.fn.editableform.Constructor=c;b.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1};b.fn.editableform.template='\x3cform class\x3d"form-inline editableform"\x3e\x3cdiv class\x3d"control-group"\x3e\x3cdiv\x3e\x3cdiv class\x3d"editable-input"\x3e\x3c/div\x3e\x3cdiv class\x3d"editable-buttons"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"editable-error-block"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/form\x3e';b.fn.editableform.loading='\x3cdiv class\x3d"editableform-loading"\x3e\x3c/div\x3e';b.fn.editableform.buttons='\x3cbutton type\x3d"submit" class\x3d"editable-submit"\x3eok\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"editable-cancel"\x3ecancel\x3c/button\x3e';b.fn.editableform.errorGroupClass=null;b.fn.editableform.errorBlockClass="editable-error";b.fn.editableform.engine="jquery"})(window.jQuery);(function(b){b.fn.editableutils={inherit:function(b,a){var e=function(){};e.prototype=a.prototype;b.prototype=new e;b.prototype.constructor=b;b.superclass=a.prototype},setCursorPosition:function(b,a){if(b.setSelectionRange)b.setSelectionRange(a,a);else if(b.createTextRange){var e=b.createTextRange();e.collapse(!0);e.moveEnd("character",a);e.moveStart("character",a);e.select()}},tryParseJson:function(b,a){if("string"===typeof b&&b.length&&b.match(/^[\{\[].*[\}\]]$/))if(a)try{b=(new Function("return "+b))()}catch(e){}finally{}else b=(new Function("return "+b))();return b},sliceObj:function(c,a,e){var d,g,f={};if(!b.isArray(a)||!a.length)return f;for(var h=0;h<a.length;h++)d=a[h],c.hasOwnProperty(d)&&(f[d]=c[d]),!0!==e&&(g=d.toLowerCase(),c.hasOwnProperty(g)&&(f[d]=c[g]));return f},getConfigData:function(c){var a={};b.each(c.data(),function(b,d){if("object"!==typeof d||d&&"object"===typeof d&&(d.constructor===Object||d.constructor===Array))a[b]=d});return a},objectKeys:function(b){if(Object.keys)return Object.keys(b);if(b!==Object(b))throw new TypeError("Object.keys called on a non-object");var a=[],e;for(e in b)Object.prototype.hasOwnProperty.call(b,e)&&a.push(e);return a},escape:function(c){return b("\x3cdiv\x3e").text(c).html()},itemsByValue:function(c,a,e){if(!a||null===c)return[];if("function"!==typeof e){var d=e||"value";e=function(a){return a[d]}}var g=b.isArray(c),f=[],h=this;b.each(a,function(a,d){if(d.children)f=f.concat(h.itemsByValue(c,d.children,e));else if(g)b.grep(c,function(a){return a==(d&&"object"===typeof d?e(d):d)}).length&&f.push(d);else{var n=d&&"object"===typeof d?e(d):d;c==n&&f.push(d)}});return f},createInput:function(c){var a;a=c.type;"date"===a&&("inline"===c.mode?b.fn.editabletypes.datefield?a="datefield":b.fn.editabletypes.dateuifield&&(a="dateuifield"):b.fn.editabletypes.date?a="date":b.fn.editabletypes.dateui&&(a="dateui"),"date"!==a||b.fn.editabletypes.date||(a="combodate"));"datetime"===a&&"inline"===c.mode&&(a="datetimefield");"wysihtml5"!==a||b.fn.editabletypes[a]||(a="textarea");if("function"===typeof b.fn.editabletypes[a])return a=b.fn.editabletypes[a],c=this.sliceObj(c,this.objectKeys(a.defaults)),c=new a(c);b.error("Unknown type: "+a);return!1},supportsTransitions:function(){var b=(document.body||document.documentElement).style,a="transition",e=["Moz","Webkit","Khtml","O","ms"];if("string"===typeof b[a])return!0;for(var a=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<e.length;d++)if("string"===typeof b[e[d]+a])return!0;return!1}}})(window.jQuery);(function(b){var c=function(a,b){this.init(a,b)},a=function(a,b){this.init(a,b)};c.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(a,d){this.$element=b(a);this.options=b.extend({},b.fn.editableContainer.defaults,d);this.splitOptions();this.formOptions.scope=this.$element[0];this.initContainer();this.delayedHide=!1;this.$element.on("destroyed",b.proxy(function(){this.destroy()},this));b(document).data("editable-handlers-attached")||(b(document).on("keyup.editable",function(a){27===a.which&&b(".editable-open").editableContainer("hide")}),b(document).on("click.editable",function(a){var e=b(a.target),d,k=".editable-container .ui-datepicker-header .datepicker .modal-backdrop .bootstrap-wysihtml5-insert-image-modal .bootstrap-wysihtml5-insert-link-modal".split(" ");if(!b(".select2-drop-mask").is(":visible")&&b.contains(document.documentElement,a.target)&&!e.is(document)){for(d=0;d<k.length;d++)if(e.is(k[d])||e.parents(k[d]).length)return;c.prototype.closeOthers(a.target)}}),b(document).data("editable-handlers-attached",!0))},splitOptions:function(){this.containerOptions={};this.formOptions={};b(this.$element).parent("td").css("overflow","visible");if(!b.fn[this.containerName])throw Error(this.containerName+" not found. Have you included corresponding js file?");for(var a in this.options)a in this.defaults?this.containerOptions[a]=this.options[a]:this.formOptions[a]=this.options[a]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var a;return this.containerDataName&&(a=this.$element.data(this.containerDataName))?a:a=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:b.proxy(this.save,this),nochange:b.proxy(function(){this.hide("nochange")},this),cancel:b.proxy(function(){this.hide("cancel");b(this.$element).parent("td").css("overflow","hidden")},this),show:b.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:b.proxy(this.setPosition,this),resize:b.proxy(this.setPosition,this),rendered:b.proxy(function(){this.$element.triggerHandler("shown",b(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(a){this.$element.addClass("editable-open");!1!==a&&this.closeOthers(this.$element[0]);b(this.$element).parent("td").css("overflow","visible");this.innerShow();this.tip().addClass(this.containerClass);this.$form=b("\x3cdiv\x3e");this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form);this.renderForm()},hide:function(a){this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")&&(b(this.$element).parent("td").css("overflow","hidden"),this.$form.data("editableform").isSaving?this.delayedHide={reason:a}:(this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",a||"manual")))},innerShow:function(){},innerHide:function(){},toggle:function(a){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(a)},setPosition:function(){},save:function(a,b){this.$element.triggerHandler("save",b);this.hide("save")},option:function(a,b){this.options[a]=b;a in this.containerOptions?(this.containerOptions[a]=b,this.setContainerOption(a,b)):(this.formOptions[a]=b,this.$form&&this.$form.editableform("option",a,b))},setContainerOption:function(a,b){this.call("option",a,b)},destroy:function(){this.hide();this.innerDestroy();this.$element.off("destroyed");this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(a){b(".editable-open").each(function(d,c){if(c!==a&&!b(c).find(a).length){var f=b(c),h=f.data("editableContainer");h&&("cancel"===h.options.onblur?(f.data("editableContainer").hide("onblur"),f.parent("td").css("overflow","hidden")):"submit"===h.options.onblur&&f.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}};b.fn.editableContainer=function(e){var d=arguments;return this.each(function(){var g=b(this),f=g.data("editableContainer"),h="object"===typeof e&&e,k="inline"===h.mode?a:c;f||g.data("editableContainer",f=new k(this,h));"string"===typeof e&&f[e].apply(f,Array.prototype.slice.call(d,1))})};b.fn.editableContainer.Popup=c;b.fn.editableContainer.Inline=a;b.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"};jQuery.event.special.destroyed={remove:function(a){a.handler&&a.handler()}}})(window.jQuery);(function(b){b.extend(b.fn.editableContainer.Inline.prototype,b.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=b("\x3cspan\x3e\x3c/span\x3e");this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={};this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide();this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,b.proxy(function(){this.$element.show();this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})})(window.jQuery);(function(b){var c=function(a,e){this.$element=b(a);this.options=b.extend({},b.fn.editable.defaults,e,b.fn.editableutils.getConfigData(this.$element));this.options.selector?this.initLive():this.init();this.options.highlight&&!b.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};c.prototype={constructor:c,init:function(){var a=!1;this.options.name=this.options.name||this.$element.attr("id");this.options.scope=this.$element[0];if(this.input=b.fn.editableutils.createInput(this.options)){void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(b.trim(this.$element.html())),a=!0):(this.options.value=b.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"===typeof this.options.value?this.input.str2value(this.options.value):this.options.value);this.$element.addClass("editable");"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped");"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",b.proxy(function(a){this.options.disabled||a.preventDefault();"mouseenter"===this.options.toggle?this.show():this.toggle("click"!==this.options.toggle)},this))):this.$element.attr("tabindex",-1);"function"===typeof this.options.display&&(this.options.autotext="always");switch(this.options.autotext){case "always":a=!0;break;case "auto":a=!b.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!a;break;default:a=!1}b.when(a?this.render():!0).then(b.proxy(function(){this.options.disabled?this.disable():this.enable();this.$element.triggerHandler("init",this)},this))}},initLive:function(){var a=this.options.selector;this.options.selector=!1;this.options.autotext="never";this.$element.on(this.options.toggle+".editable",a,b.proxy(function(a){var d=b(a.target);d.data("editable")||(d.hasClass(this.options.emptyclass)&&d.empty(),d.editable(this.options).trigger(a))},this))},render:function(a){if(!1!==this.options.display)return this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,a):"function"===typeof this.options.display?this.options.display.call(this.$element[0],this.value,a):this.input.value2html(this.value,this.$element[0])},enable:function(){this.options.disabled=!1;this.$element.removeClass("editable-disabled");this.handleEmpty(this.isEmpty);"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0;this.hide();this.$element.addClass("editable-disabled");this.handleEmpty(this.isEmpty);this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(a,e){if(a&&"object"===typeof a)b.each(a,b.proxy(function(a,e){this.option(b.trim(a),e)},this));else{this.options[a]=e;if("disabled"===a)return e?this.disable():this.enable();"value"===a&&this.setValue(e);this.container&&this.container.option(a,e);this.input.option&&this.input.option(a,e)}},handleEmpty:function(a){!1!==this.options.display&&((this.isEmpty=void 0!==a?a:"function"===typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===b.trim(this.$element.html()),this.options.disabled)?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(a){if(!this.options.disabled){if(!this.container){var e=b.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e);this.$element.on("save.internal",b.proxy(this.save,this));this.container=this.$element.data("editableContainer")}else if(this.container.tip().is(":visible"))return;this.container.show(a)}},hide:function(){this.container&&this.container.hide()},toggle:function(a){this.container&&this.container.tip().is(":visible")?this.hide():this.show(a)},save:function(a,b){if(this.options.unsavedclass){var d;(d=(d=(d=(d="function"===typeof this.options.url)||!1===this.options.display)||void 0!==b.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(b.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var c=this.$element,f=c.css("background-color");c.css("background-color",this.options.highlight);setTimeout(function(){"transparent"===f&&(f="");c.css("background-color",f);c.addClass("editable-bg-transition");setTimeout(function(){c.removeClass("editable-bg-transition")},1700)},10)}this.setValue(b.newValue,!1,b.response)},validate:function(){if("function"===typeof this.options.validate)return this.options.validate.call(this,this.value)},setValue:function(a,e,d){this.value=e?this.input.str2value(a):a;this.container&&this.container.option("value",this.value);b.when(this.render(d)).then(b.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable();this.container&&this.container.destroy();this.input.destroy();"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable"));this.$element.off("save.internal");this.$element.removeClass("editable editable-open editable-disabled");this.$element.removeData("editable")}};b.fn.editable=function(a){"string"==typeof a.validate&&(optionl.validate=eval(a.validate));var e={},d=arguments;switch(a){case "validate":return this.each(function(){var a=b(this).data("editable"),d;a&&(d=a.validate())&&(e[a.options.name]=d)}),e;case "getValue":return 2===arguments.length&&!0===arguments[1]?e=this.eq(0).data("editable").value:this.each(function(){var a=b(this).data("editable");a&&void 0!==a.value&&null!==a.value&&(e[a.options.name]=a.input.value2submit(a.value))}),e;case "submit":var g=arguments[1]||{},f=this,h=this.editable("validate");if(b.isEmptyObject(h)){var k={};1===f.length?(h=f.data("editable"),k={name:h.options.name||"",value:h.input.value2submit(h.value),pk:"function"===typeof h.options.pk?h.options.pk.call(h.options.scope):h.options.pk},"function"===typeof h.options.params?k=h.options.params.call(h.options.scope,k):(h.options.params=b.fn.editableutils.tryParseJson(h.options.params,!0),b.extend(k,h.options.params)),k={url:h.options.url,data:k,type:"POST"},g.success=g.success||h.options.success,g.error=g.error||h.options.error):(h=this.editable("getValue"),k={url:g.url,data:h,type:"POST"});k.success="function"===typeof g.success?function(a){g.success.call(f,a,g)}:b.noop;k.error="function"===typeof g.error?function(){g.error.apply(f,arguments)}:b.noop;g.ajaxOptions&&b.extend(k,g.ajaxOptions);g.data&&b.extend(k.data,g.data);b.ajax(k)}else"function"===typeof g.error&&g.error.call(f,h);return this}return this.each(function(){var e=b(this),g=e.data("editable"),f="object"===typeof a&&a;f&&f.selector?new c(this,f):(g||e.data("editable",g=new c(this,f)),"string"===typeof a&&g[a].apply(g,Array.prototype.slice.call(d,1)))})};b.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"\u683c\u5f0f\u9519\u8bef",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}})(window.jQuery);(function(b){b.fn.editabletypes={};var c=function(){};c.prototype={init:function(a,e,d){this.type=a;this.options=b.extend({},d,e)},prerender:function(){this.$input=this.$tpl=b(this.options.tpl);this.error=this.$clear=null},render:function(){},value2html:function(a,e){b(e)[this.options.escape?"text":"html"](b.trim(a))},html2value:function(a){return b("\x3cdiv\x3e").html(a).text()},value2str:function(a){return a},str2value:function(a){return a},value2submit:function(a){return a},value2input:function(a){this.$input.val(a)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(a){return b("\x3cdiv\x3e").text(a).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(a){void 0!==this.options[a]&&null!==this.options[a]&&this.$input.attr(a,this.options[a])},option:function(a,b){this.options[a]=b}};c.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0};b.extend(b.fn.editabletypes,{abstractinput:c})})(window.jQuery);(function(b){var c=function(a){};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){var a=b.Deferred();this.error=null;this.onSourceReady(function(){this.renderList();a.resolve()},function(){this.error=this.options.sourceError;a.resolve()});return a.promise()},html2value:function(a){return null},value2html:function(a,e,d,c){var f=b.Deferred(),h=function(){"function"===typeof d?d.call(e,a,this.sourceData,c):this.value2htmlFinal(a,e);f.resolve()};if(null===a)h.call(this);else this.onSourceReady(h,function(){f.resolve()});return f.promise()},onSourceReady:function(a,e){var d;b.isFunction(this.options.source)?(d=this.options.source.call(this.options.scope),this.sourceData=null):d=this.options.source;if(this.options.sourceCache&&b.isArray(this.sourceData))a.call(this);else{try{d=b.fn.editableutils.tryParseJson(d,!1)}catch(c){e.call(this);return}if("string"===typeof d){if(this.options.sourceCache){var g=d,f;b(document).data(g)||b(document).data(g,{});f=b(document).data(g);if(!1===f.loading&&f.sourceData){this.sourceData=f.sourceData;this.doPrepend();a.call(this);return}if(!0===f.loading){f.callbacks.push(b.proxy(function(){this.sourceData=f.sourceData;this.doPrepend();a.call(this)},this));f.err_callbacks.push(b.proxy(e,this));return}f.loading=!0;f.callbacks=[];f.err_callbacks=[]}d=b.extend({url:d,type:"get",cache:!1,dataType:"json",success:b.proxy(function(d){f&&(f.loading=!1);this.sourceData=this.makeArray(d);b.isArray(this.sourceData)?(f&&(f.sourceData=this.sourceData,b.each(f.callbacks,function(){this.call()})),this.doPrepend(),a.call(this)):(e.call(this),f&&b.each(f.err_callbacks,function(){this.call()}))},this),error:b.proxy(function(){e.call(this);f&&(f.loading=!1,b.each(f.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);b.ajax(d)}else this.sourceData=this.makeArray(d),b.isArray(this.sourceData)?(this.doPrepend(),a.call(this)):e.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(b.isArray(this.prependData)||(b.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=b.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"===typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),b.isArray(this.prependData)&&b.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(a,b){},makeArray:function(a){var e,d,c=[],f,h;if(!a||"string"===typeof a)return null;if(b.isArray(a)){h=function(a,b){d={value:a,text:b};if(2<=e++)return!1};for(var k=0;k<a.length;k++)f=a[k],"object"===typeof f?(e=0,b.each(f,h),1===e?c.push(d):1<e&&(f.children&&(f.children=this.makeArray(f.children)),c.push(f))):c.push({value:f,text:f})}else b.each(a,function(a,b){c.push({value:a,text:b})});return c},option:function(a,b){this.options[a]=b;"source"===a&&(this.sourceData=null);"prepend"===a&&(this.prependData=null)}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null});b.fn.editabletypes.list=c})(window.jQuery);(function(b){var c=function(a){this.init("text",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.renderClear();this.setClass();this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),this.$input.is("input,textarea")&&!this.$input.is('[type\x3d"checkbox"],[type\x3d"range"]')&&b.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=b('\x3cspan class\x3d"editable-clear-x"\x3e\x3c/span\x3e'),this.$input.after(this.$clear).css("padding-right",24).keyup(b.proxy(function(a){if(!~b.inArray(a.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(a)},100)}},this)).parent().css("position","relative"),this.$clear.click(b.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(a){if(this.$clear){a=this.$input.val().length;var b=this.$clear.is(":visible");a&&!b&&this.$clear.show();!a&&b&&this.$clear.hide()}},clear:function(){this.$clear.hide();this.$input.val("").focus()}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cinput type\x3d"text"\x3e',placeholder:null,clear:!0});b.fn.editabletypes.text=c})(window.jQuery);(function(b){var c=function(a){this.init("textarea",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass();this.setAttr("placeholder");this.setAttr("rows");this.$input.keydown(function(a){a.ctrlKey&&13===a.which&&b(this).closest("form").submit()})},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:"\x3ctextarea\x3e\x3c/textarea\x3e",inputclass:"input-large",placeholder:null,rows:7});b.fn.editabletypes.textarea=c})(window.jQuery);(function(b){var c=function(a){this.init("select",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){this.$input.empty();var a=this.options.escape,e=function(d,c){var f;if(b.isArray(c))for(var h=0;h<c.length;h++)f={},c[h].children?(f.label=c[h].text,d.append(e(b("\x3coptgroup\x3e",f),c[h].children))):(f.value=c[h].value,c[h].disabled&&(f.disabled=!0),f=b("\x3coption\x3e",f),f[a?"text":"html"](c[h].text),d.append(f));return d};e(this.$input,this.sourceData);this.setClass();this.$input.on("keydown.editable",function(a){13===a.which&&b(this).closest("form").submit()})},value2htmlFinal:function(a,e){var d="",c=b.fn.editableutils.itemsByValue(a,this.sourceData);c.length&&(d=c[0].value);b.fn.editabletypes.abstractinput.prototype.value2html.call(this,d,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){b(this).closest("form").submit()})}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:"\x3cselect\x3e\x3c/select\x3e"});b.fn.editabletypes.select=c})(window.jQuery);(function(b){var c=function(a){this.init("checklist",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.list);b.extend(c.prototype,{renderList:function(){var a;this.$tpl.empty();if(b.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++){a=b("\x3clabel\x3e").append(b("\x3cinput\x3e",{type:"checkbox",value:this.sourceData[e].value}));var d=b("\x3cspan\x3e");d[this.options.escape?"text":"html"](" "+this.sourceData[e].text);a.append(d);b("\x3cdiv\x3e").append(a).appendTo(this.$tpl)}this.$input=this.$tpl.find('input[type\x3d"checkbox"]');this.setClass()}},value2str:function(a){return b.isArray(a)?a.sort().join(b.trim(this.options.separator)):""},str2value:function(a){var e;e=null;"string"===typeof a&&a.length?(e=new RegExp("\\s*"+b.trim(this.options.separator)+"\\s*"),e=a.split(e)):e=b.isArray(a)?a:[a];return e},value2input:function(a){this.$input.prop("checked",!1);b.isArray(a)&&a.length&&this.$input.each(function(e,d){var c=b(d);b.each(a,function(a,b){c.val()==b&&c.prop("checked",!0)})})},input2value:function(){var a=[];this.$input.filter(":checked").each(function(e,d){a.push(b(d).val())});return a},value2htmlFinal:function(a,e){var d=[],c=b.fn.editableutils.itemsByValue(a,this.sourceData),f=this.options.escape;c.length?(b.each(c,function(a,e){var c=f?b.fn.editableutils.escape(e.text):e.text;d.push(c)}),b(e).html(d.join("\x3cbr\x3e"))):b(e).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(a){13===a.which&&b(this).closest("form").submit()})}});c.defaults=b.extend({},b.fn.editabletypes.list.defaults,{tpl:'\x3cdiv class\x3d"editable-checklist"\x3e\x3c/div\x3e',inputclass:null,separator:","});b.fn.editabletypes.checklist=c})(window.jQuery);(function(b){var c=function(a){this.init("password",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{value2html:function(a,e){a?b(e).text("[hidden]"):b(e).empty()},html2value:function(a){return null}});c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'\x3cinput type\x3d"password"\x3e'});b.fn.editabletypes.password=c})(window.jQuery);(function(b){var c=function(a){this.init("email",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'\x3cinput type\x3d"email"\x3e'});b.fn.editabletypes.email=c})(window.jQuery);(function(b){var c=function(a){this.init("url",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'\x3cinput type\x3d"url"\x3e'});b.fn.editabletypes.url=c})(window.jQuery);(function(b){var c=function(a){this.init("tel",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'\x3cinput type\x3d"tel"\x3e'});b.fn.editabletypes.tel=c})(window.jQuery);(function(b){var c=function(a){this.init("number",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.text);b.extend(c.prototype,{render:function(){c.superclass.render.call(this);this.setAttr("min");this.setAttr("max");this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}});c.defaults=b.extend({},b.fn.editabletypes.text.defaults,{tpl:'\x3cinput type\x3d"number"\x3e',inputclass:"input-mini",min:null,max:null,step:null});b.fn.editabletypes.number=c})(window.jQuery);(function(b){var c=function(a){this.init("range",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.number);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.filter("input");this.setClass();this.setAttr("min");this.setAttr("max");this.setAttr("step");this.$input.on("input",function(){b(this).siblings("output").text(b(this).val())})},activate:function(){this.$input.focus()}});c.defaults=b.extend({},b.fn.editabletypes.number.defaults,{tpl:'\x3cinput type\x3d"range"\x3e\x3coutput style\x3d"width: 30px; display: inline-block"\x3e\x3c/output\x3e',inputclass:"input-medium"});b.fn.editabletypes.range=c})(window.jQuery);(function(b){var c=function(a){this.init("time",a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass()}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cinput type\x3d"time"\x3e'});b.fn.editabletypes.time=c})(window.jQuery);(function(b){var c=function(a){this.init("select2",a,c.defaults);a.select2=a.select2||{};this.sourceData=null;a.placeholder&&(a.select2.placeholder=a.placeholder);if(!a.select2.tags&&a.source){var e=a.source;b.isFunction(a.source)&&(e=a.source.call(a.scope));"string"===typeof e?(a.select2.ajax=a.select2.ajax||{},a.select2.ajax.dataType||(a.select2.ajax.dataType="json"),a.select2.ajax.data||(a.select2.ajax.data=function(a){return{query:a}}),a.select2.ajax.processResults||(a.select2.ajax.processResults=function(a){return{results:a}}),a.select2.ajax.url=e):(this.sourceData=this.convertSource(e),a.select2.data=this.sourceData)}this.options.select2=b.extend({},c.defaults.select2,a.select2);this.isMultiple=this.options.select2.tags||this.options.select2.multiple;this.isRemote="ajax"in this.options.select2;this.idFunc=this.options.select2.id;if("function"!==typeof this.idFunc){var d=this.idFunc||"id";this.idFunc=function(a){return a[d]}}this.formatSelection=this.options.select2.formatSelection;"function"!==typeof this.formatSelection&&(this.formatSelection=function(a){return a.text})};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.setClass();if(this.isRemote)this.$input.on("select2-loaded",b.proxy(function(a){this.sourceData=a.items.results},this));if(this.isMultiple)this.$input.on("change",function(){b(this).closest("form").parent().triggerHandler("resize")})},value2html:function(a,e){var d="",g,f=this;this.options.select2.tags?g=a:this.sourceData&&(g=b.fn.editableutils.itemsByValue(a,this.sourceData,this.idFunc));b.isArray(g)?(d=[],b.each(g,function(a,b){d.push(b&&"object"===typeof b?f.formatSelection(b):b)})):g&&(d=f.formatSelection(g));d=b.isArray(d)?d.join(this.options.viewseparator):d;c.superclass.value2html.call(this,d,e)},html2value:function(a){return this.options.select2.tags?this.str2value(a,this.options.viewseparator):null},value2input:function(a){b.isArray(a)&&(a=a.join(this.getSeparator()));this.$input.data("select2")?this.$input.val(a).trigger("change",!0):(this.$input.val(a),this.$input.select2(this.options.select2));if(this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var e=this.options.select2.formatSelection;this.options.select2.id||e||(e=b(this.options.scope),e.data("editable").isEmpty||(a={id:a,text:e.text()},this.$input.select2("data",a)))}},input2value:function(){return this.$input.select2("val")},str2value:function(a,e){if("string"!==typeof a||!this.isMultiple)return a;e=e||this.getSeparator();var d,c,f;if(null===a||1>a.length)return null;d=a.split(e);c=0;for(f=d.length;c<f;c+=1)d[c]=b.trim(d[c]);return d},autosubmit:function(){this.$input.on("change",function(a,e){e||b(this).closest("form").submit()})},getSeparator:function(){return this.options.select2.separator||b.fn.select2.defaults.separator},convertSource:function(a){if(b.isArray(a)&&a.length&&void 0!==a[0].value)for(var e=0;e<a.length;e++)void 0!==a[e].value&&(a[e].id=a[e].value,delete a[e].value);return a},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cinput type\x3d"hidden"\x3e',select2:null,placeholder:null,source:null,viewseparator:", "});b.fn.editabletypes.select2=c})(window.jQuery);(function(b){var c=function(a,e){this.$element=b(a);this.$element.is("input")?(this.options=b.extend({},b.fn.combodate.defaults,e,this.$element.data()),this.init()):b.error("Combodate should be applied to INPUT element")};c.prototype={constructor:c,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]};this.$widget=b('\x3cspan class\x3d"combodate"\x3e\x3c/span\x3e').html(this.getTemplate());this.initCombos();this.$widget.on("change","select",b.proxy(function(a){this.$element.val(this.getValue()).change();this.options.smartDays&&(b(a.target).is(".month")||b(a.target).is(".year"))&&this.fillCombo("day")},this));this.$widget.find("select").css("width","auto");this.$element.hide().after(this.$widget);this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var a=this.options.template;b.each(this.map,function(b,d){d=d[0];var c=new RegExp(d+"+"),f=1<d.length?d.substring(1,2):d;a=a.replace(c,"{"+f+"}")});a=a.replace(/ /g,"\x26nbsp;");b.each(this.map,function(b,d){d=d[0];var c=1<d.length?d.substring(1,2):d;a=a.replace("{"+c+"}",'\x3cselect class\x3d"'+b+'"\x3e\x3c/select\x3e')});return a},initCombos:function(){for(var a in this.map){var b=this.$widget.find("."+a);this["$"+a]=b.length?b:null;this.fillCombo(a)}},fillCombo:function(a){var b=this["$"+a];if(b){a=this["fill"+a.charAt(0).toUpperCase()+a.slice(1)]();var d=b.val();b.empty();for(var c=0;c<a.length;c++)b.append('\x3coption value\x3d"'+a[c][0]+'"\x3e'+a[c][1]+"\x3c/option\x3e");b.val(d)}},fillCommon:function(a){var b=[],d;"name"===this.options.firstItem?(d=moment.relativeTime||moment.langData()._relativeTime,a="function"===typeof d[a]?d[a](1,!0,a,!1):d[a],a=a.split(" ").reverse()[0],b.push(["",a])):"empty"===this.options.firstItem&&b.push(["",""]);return b},fillDay:function(){var a=this.fillCommon("d"),b,d,c=-1!==this.options.template.indexOf("DD"),f=31;this.options.smartDays&&this.$month&&this.$year&&(b=parseInt(this.$month.val(),10),d=parseInt(this.$year.val(),10),isNaN(b)||isNaN(d)||(f=moment([d,b]).daysInMonth()));for(d=1;d<=f;d++)b=c?this.leadZero(d):d,a.push([d,b]);return a},fillMonth:function(){var a=this.fillCommon("M"),b,d,c=-1!==this.options.template.indexOf("MMMM"),f=-1!==this.options.template.indexOf("MMM"),h=-1!==this.options.template.indexOf("MM");for(d=0;11>=d;d++)b=c?moment().date(1).month(d).format("MMMM"):f?moment().date(1).month(d).format("MMM"):h?this.leadZero(d+1):d+1,a.push([d,b]);return a},fillYear:function(){var a=[],b,d,c=-1!==this.options.template.indexOf("YYYY");for(d=this.options.maxYear;d>=this.options.minYear;d--)b=c?d:(d+"").substring(2),a[this.options.yearDescending?"push":"unshift"]([d,b]);return a=this.fillCommon("y").concat(a)},fillHour:function(){var a=this.fillCommon("h"),b,d;b=-1!==this.options.template.indexOf("h");this.options.template.indexOf("H");var c=-1!==this.options.template.toLowerCase().indexOf("hh"),f=b?12:23;for(d=b?1:0;d<=f;d++)b=c?this.leadZero(d):d,a.push([d,b]);return a},fillMinute:function(){var a=this.fillCommon("m"),b,c,g=-1!==this.options.template.indexOf("mm");for(c=0;59>=c;c+=this.options.minuteStep)b=g?this.leadZero(c):c,a.push([c,b]);return a},fillSecond:function(){var a=this.fillCommon("s"),b,c,g=-1!==this.options.template.indexOf("ss");for(c=0;59>=c;c+=this.options.secondStep)b=g?this.leadZero(c):c,a.push([c,b]);return a},fillAmpm:function(){var a=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",a?"am":"AM"],["pm",a?"pm":"PM"]]},getValue:function(a){var c,d={},g=this,f=!1;b.each(this.map,function(a,b){if("ampm"!==a){var c="day"===a?1:0;d[a]=g["$"+a]?parseInt(g["$"+a].val(),10):c;if(isNaN(d[a]))return f=!0,!1}});if(f)return"";this.$ampm&&(d.hour=12===d.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?d.hour:d.hour+12);c=moment([d.year,d.month,d.day,d.hour,d.minute,d.second]);this.highlight(c);a=void 0===a?this.options.format:a;return null===a?c.isValid()?c:null:c.isValid()?c.format(a):""},setValue:function(a){function c(a,d){var e={};a.children("option").each(function(a,c){var x=b(c).attr("value"),y;""!==x&&(y=Math.abs(x-d),"undefined"===typeof e.distance||y<e.distance)&&(e={value:x,distance:y})});return e.value}if(a){var d="string"===typeof a?moment(a,this.options.format):moment(a),g=this,f={};d.isValid()&&(b.each(this.map,function(a,b){"ampm"!==a&&(f[a]=d[b[1]]())}),this.$ampm&&(12<=f.hour?(f.ampm="pm",12<f.hour&&(f.hour-=12)):(f.ampm="am",0===f.hour&&(f.hour=12))),b.each(f,function(a,b){g["$"+a]&&("minute"===a&&1<g.options.minuteStep&&g.options.roundTime&&(b=c(g["$"+a],b)),"second"===a&&1<g.options.secondStep&&g.options.roundTime&&(b=c(g["$"+a],b)),g["$"+a].val(b))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(d.format(this.options.format)).change())}},highlight:function(a){a.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(a){return 9>=a?"0"+a:a},destroy:function(){this.$widget.remove();this.$element.removeData("combodate").show()}};b.fn.combodate=function(a){var e,d=Array.apply(null,arguments);d.shift();return"getValue"===a&&this.length&&(e=this.eq(0).data("combodate"))?e.getValue.apply(e,d):this.each(function(){var e=b(this),f=e.data("combodate"),h="object"==typeof a&&a;f||e.data("combodate",f=new c(this,h));"string"==typeof a&&"function"==typeof f[a]&&f[a].apply(f,d)})};b.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:(new Date).getFullYear(),yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0,smartDays:!1}})(window.jQuery);(function(b){var c=function(a){this.init("combodate",a,c.defaults);this.options.viewformat||(this.options.viewformat=this.options.format);a.combodate=b.fn.editableutils.tryParseJson(a.combodate,!0);this.options.combodate=b.extend({},c.defaults.combodate,a.combodate,{format:this.options.format,template:this.options.template})};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{render:function(){this.$input.combodate(this.options.combodate);"bs3"===b.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control");this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(a,b){var d=a?a.format(this.options.viewformat):"";c.superclass.value2html.call(this,d,b)},html2value:function(a){return a?moment(a,this.options.viewformat):null},value2str:function(a){return a?a.format(this.options.format):""},str2value:function(a){return a?moment(a,this.options.format):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.combodate("setValue",a)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cinput type\x3d"text"\x3e',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null});b.fn.editabletypes.combodate=c})(window.jQuery);(function(b){var c=b.fn.editableform.Constructor.prototype.initInput;b.extend(b.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=b(b.fn.editableform.template);this.$form.find(".control-group").addClass("form-group");this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){c.apply(this);var a=null===this.input.options.inputclass||!1===this.input.options.inputclass;~b.inArray(this.input.type,"text select textarea password email url tel number range time typeaheadjs".split(" "))&&(this.input.$input.addClass("form-control"),a&&(this.input.options.inputclass="input-sm",this.input.$input.addClass("input-sm")));for(var e=this.$form.find(".editable-buttons"),a=a?["input-sm"]:this.input.options.inputclass.split(" "),d=0;d<a.length;d++)"input-lg"===a[d].toLowerCase()&&e.find("button").removeClass("btn-sm").addClass("btn-lg")}});b.fn.editableform.buttons='\x3cbutton type\x3d"submit" class\x3d"btn btn-primary btn-sm editable-submit"\x3e\x3ci class\x3d"glyphicon glyphicon-ok"\x3e\x3c/i\x3e\x3c/button\x3e\x3cbutton type\x3d"button" class\x3d"btn btn-default btn-sm editable-cancel"\x3e\x3ci class\x3d"glyphicon glyphicon-remove"\x3e\x3c/i\x3e\x3c/button\x3e';b.fn.editableform.errorGroupClass="has-error";b.fn.editableform.errorBlockClass=null;b.fn.editableform.engine="bs3"})(window.jQuery);(function(b){b.extend(b.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:b.fn.popover.Constructor.DEFAULTS,initContainer:function(){b.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template});var c;this.$element.data("template")&&(c=this.$element.data("template"),this.$element.removeData("template"));this.call(this.containerOptions);c&&this.$element.data("template",c)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(b,a){this.container().options[b]=a},setPosition:function(){(function(){var b=this.tip(),a="function"==typeof this.options.placement?this.options.placement.call(this,b[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,d=e.test(a);d&&(a=a.replace(e,"")||"top");var e=this.getPosition(),g=b[0].offsetWidth,f=b[0].offsetHeight;if(d){var h=this.$element.parent(),d=a,k=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:h.outerWidth(),n="body"==this.options.container?window.innerHeight:h.outerHeight(),h="body"==this.options.container?0:h.offset().left,a="bottom"==a&&e.top+e.height+f-k>n?"top":"top"==a&&0>e.top-k-f?"bottom":"right"==a&&e.right+g>u?"left":"left"==a&&e.left-g<h?"right":a;b.removeClass(d).addClass(a)}}).call(this.container())}})})(window.jQuery);(function(b){function c(){return new Date(Date.UTC.apply(Date,arguments))}function a(a,c){var d=b(a).data(),e={},f,g=new RegExp("^"+c.toLowerCase()+"([A-Z])");c=new RegExp("^"+c.toLowerCase());for(var h in d)c.test(h)&&(f=h.replace(g,function(a,b){return b.toLowerCase()}),e[f]=d[h]);return e}function e(a){var c={};if(!n[a]&&(a=a.split("-")[0],!n[a]))return;var d=n[a];b.each(u,function(a,b){b in d&&(c[b]=d[b])});return c}var d=function(a,c){this._process_options(c);this.element=b(a);this.isInline=!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.is(".date")?this.element.find(".add-on, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=!1);this.picker=b(l.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right"));this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this.o.startDate);this.setEndDate(this.o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};d.prototype={constructor:d,_process_options:function(a){this._o=b.extend({},this._o,a);a=this.o=b.extend({},this._o);var c=a.language;n[c]||(c=c.split("-")[0],n[c]||(c=k.language));a.language=c;switch(a.startView){case 2:case "decade":a.startView=2;break;case 1:case "year":a.startView=1;break;default:a.startView=0}switch(a.minViewMode){case 1:case "months":a.minViewMode=1;break;case 2:case "years":a.minViewMode=2;break;default:a.minViewMode=0}a.startView=Math.max(a.startView,a.minViewMode);a.weekStart%=7;a.weekEnd=(a.weekStart+6)%7;c=l.parseFormat(a.format);-Infinity!==a.startDate&&(a.startDate=l.parseDate(a.startDate,c,a.language));Infinity!==a.endDate&&(a.endDate=l.parseDate(a.endDate,c,a.language));a.daysOfWeekDisabled=a.daysOfWeekDisabled||[];b.isArray(a.daysOfWeekDisabled)||(a.daysOfWeekDisabled=a.daysOfWeekDisabled.split(/[,\s]*/));a.daysOfWeekDisabled=b.map(a.daysOfWeekDisabled,function(a){return parseInt(a,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d;b<a.length;b++)c=a[b][0],d=a[b][1],c.on(d)},_unapplyEvents:function(a){for(var b=0,c,d;b<a.length;b++)c=a[b][0],d=a[b][1],c.off(d)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:b.proxy(this.show,this),keyup:b.proxy(this.update,this),keydown:b.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:b.proxy(this.show,this),keyup:b.proxy(this.update,this),keydown:b.proxy(this.keydown,this)}],[this.component,{click:b.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:b.proxy(this.show,this)}]];this._secondaryEvents=[[this.picker,{click:b.proxy(this.click,this)}],[b(window),{resize:b.proxy(this.place,this)}],[b(document),{mousedown:b.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).size()||this.picker.is(a.target)||this.picker.find(a.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,c){var d=c||this.date,e=new Date(d.getTime()+6E4*d.getTimezoneOffset());this.element.trigger({type:a,date:e,format:b.proxy(function(a){return l.formatDate(d,a||this.o.format,this.o.language)},this)})},show:function(a){this.isInline||this.picker.appendTo("body");this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();a&&a.preventDefault();this._trigger("show")},hide:function(a){!this.isInline&&this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;this.isInput||delete this.element.data().date},getDate:function(){var a=this.getUTCDate();return new Date(a.getTime()+6E4*a.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(new Date(a.getTime()-6E4*a.getTimezoneOffset()))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();this.isInput?this.element.val(a):this.component&&this.element.find("input").val(a)},getFormattedDate:function(a){void 0===a&&(a=this.o.format);return l.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(!this.isInline){var a=parseInt(this.element.parents().filter(function(){return"auto"!=b(this).css("z-index")}).first().css("z-index"))+10,c=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:c.top+d,left:c.left,zIndex:a})}},_allow_update:!0,update:function(){if(this._allow_update){var a,b=!1;arguments&&arguments.length&&("string"===typeof arguments[0]||arguments[0]instanceof Date)?(a=arguments[0],b=!0):(a=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date);this.date=l.parseDate(a,this.o.format,this.o.language);b&&this.setValue();this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date);this.fill()}},fillDow:function(){var a=this.o.weekStart,b="\x3ctr\x3e";this.o.calendarWeeks&&(b+='\x3cth class\x3d"cw"\x3e\x26nbsp;\x3c/th\x3e',this.picker.find(".datepicker-days thead tr:first-child").prepend('\x3cth class\x3d"cw"\x3e\x26nbsp;\x3c/th\x3e'));for(;a<this.o.weekStart+7;)b+='\x3cth class\x3d"dow"\x3e'+n[this.o.language].daysMin[a++%7]+"\x3c/th\x3e";b+="\x3c/tr\x3e";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;12>b;)a+='\x3cspan class\x3d"month"\x3e'+n[this.o.language].monthsShort[b++]+"\x3c/span\x3e";this.picker.find(".datepicker-months td").html(a)},setRange:function(a){a&&a.length?this.range=b.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(a){var c=[],d=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),f=this.date.valueOf(),g=new Date;a.getUTCFullYear()<d||a.getUTCFullYear()==d&&a.getUTCMonth()<e?c.push("old"):(a.getUTCFullYear()>d||a.getUTCFullYear()==d&&a.getUTCMonth()>e)&&c.push("new");this.o.todayHighlight&&a.getUTCFullYear()==g.getFullYear()&&a.getUTCMonth()==g.getMonth()&&a.getUTCDate()==g.getDate()&&c.push("today");f&&a.valueOf()==f&&c.push("active");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==b.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&c.push("disabled");this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&c.push("range"),-1!=b.inArray(a.valueOf(),this.range)&&c.push("selected"));return c},fill:function(){var a=new Date(this.viewDate),d=a.getUTCFullYear(),e=a.getUTCMonth(),a=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,f=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,g=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,h=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,m;this.picker.find(".datepicker-days thead th.datepicker-switch").text(n[this.o.language].months[e]+" "+d);this.picker.find("tfoot th.today").text(n[this.o.language].today).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot th.clear").text(n[this.o.language].clear).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();var k=c(d,e-1,28,0,0,0,0),e=l.getDaysInMonth(k.getUTCFullYear(),k.getUTCMonth());k.setUTCDate(e);k.setUTCDate(e-(k.getUTCDay()-this.o.weekStart+7)%7);var q=new Date(k);q.setUTCDate(q.getUTCDate()+42);for(var q=q.valueOf(),e=[],p;k.valueOf()<q;){if(k.getUTCDay()==this.o.weekStart&&(e.push("\x3ctr\x3e"),this.o.calendarWeeks)){p=new Date(+k+(this.o.weekStart-k.getUTCDay()-7)%7*864E5);p=new Date(+p+(11-p.getUTCDay())%7*864E5);var w=new Date(+(w=c(p.getUTCFullYear(),0,1))+(11-w.getUTCDay())%7*864E5);e.push('\x3ctd class\x3d"cw"\x3e'+((p-w)/864E5/7+1)+"\x3c/td\x3e")}p=this.getClassNames(k);p.push("day");var r=this.o.beforeShowDay(k);void 0===r?r={}:"boolean"===typeof r?r={enabled:r}:"string"===typeof r&&(r={classes:r});!1===r.enabled&&p.push("disabled");r.classes&&(p=p.concat(r.classes.split(/\s+/)));r.tooltip&&(m=r.tooltip);p=b.unique(p);e.push('\x3ctd class\x3d"'+p.join(" ")+'"'+(m?' title\x3d"'+m+'"':"")+"\x3e"+k.getUTCDate()+"\x3c/td\x3e");k.getUTCDay()==this.o.weekEnd&&e.push("\x3c/tr\x3e");k.setUTCDate(k.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(e.join(""));m=this.date&&this.date.getUTCFullYear();e=this.picker.find(".datepicker-months").find("th:eq(1)").text(d).end().find("span").removeClass("active");m&&m==d&&e.eq(this.date.getUTCMonth()).addClass("active");(d<a||d>g)&&e.addClass("disabled");d==a&&e.slice(0,f).addClass("disabled");d==g&&e.slice(h+1).addClass("disabled");e="";d=10*parseInt(d/10,10);f=this.picker.find(".datepicker-years").find("th:eq(1)").text(d+"-"+(d+9)).end().find("td");--d;for(h=-1;11>h;h++)e+='\x3cspan class\x3d"year'+(-1==h?" old":10==h?" new":"")+(m==d?" active":"")+(d<a||d>g?" disabled":"")+'"\x3e'+d+"\x3c/span\x3e",d+=1;f.html(e)},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();a=b(a.target).closest("span, td, th");if(1==a.length)switch(a[0].nodeName.toLowerCase()){case "th":switch(a[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":a=l.modes[this.viewMode].navStep*("prev"==a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,a);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a)}this.fill();break;case "today":a=new Date;a=c(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);this.showMode(-2);this._setDate(a,"linked"==this.o.todayBtn?null:"view");break;case "clear":var d;this.isInput?d=this.element:this.component&&(d=this.element.find("input"));d&&d.val("").change();this._trigger("changeDate");this.update();this.o.autoclose&&this.hide()}break;case "span":if(!a.is(".disabled")){this.viewDate.setUTCDate(1);if(a.is(".month")){d=1;var e=a.parent().find("span").index(a),f=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(e);this._trigger("changeMonth",this.viewDate);1===this.o.minViewMode&&this._setDate(c(f,e,d,0,0,0,0))}else f=parseInt(a.text(),10)||0,d=1,e=0,this.viewDate.setUTCFullYear(f),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(c(f,e,d,0,0,0,0));this.showMode(-1);this.fill()}break;case "td":a.is(".day")&&!a.is(".disabled")&&(d=parseInt(a.text(),10)||1,f=this.viewDate.getUTCFullYear(),e=this.viewDate.getUTCMonth(),a.is(".old")?0===e?(e=11,--f):--e:a.is(".new")&&(11==e?(e=0,f+=1):e+=1),this._setDate(c(f,e,d,0,0,0,0)))}},_setDate:function(a,b){b&&"date"!=b||(this.date=new Date(a));b&&"view"!=b||(this.viewDate=new Date(a));this.fill();this.setValue();this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input"));c&&(c.change(),!this.o.autoclose||b&&"date"!=b||this.hide())},moveMonth:function(a,b){if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),f=Math.abs(b),g;b=0<b?1:-1;if(1==f){if(f=-1==b?function(){return c.getUTCMonth()==e}:function(){return c.getUTCMonth()!=g},g=e+b,c.setUTCMonth(g),0>g||11<g)g=(g+12)%12}else{for(var h=0;h<f;h++)c=this.moveMonth(c,b);g=c.getUTCMonth();c.setUTCDate(d);f=function(){return g!=c.getUTCMonth()}}for(;f();)c.setUTCDate(--d),c.setUTCMonth(g);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)"))27==a.keyCode&&this.show();else{var b=!1,c,d,e;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;c=37==a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.date,c),e=this.moveYear(this.viewDate,c)):a.shiftKey?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):(d=new Date(this.date),d.setUTCDate(this.date.getUTCDate()+c),e=new Date(this.viewDate),e.setUTCDate(this.viewDate.getUTCDate()+c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;c=38==a.keyCode?-1:1;a.ctrlKey?(d=this.moveYear(this.date,c),e=this.moveYear(this.viewDate,c)):a.shiftKey?(d=this.moveMonth(this.date,c),e=this.moveMonth(this.viewDate,c)):(d=new Date(this.date),d.setUTCDate(this.date.getUTCDate()+7*c),e=new Date(this.viewDate),e.setUTCDate(this.viewDate.getUTCDate()+7*c));this.dateWithinRange(d)&&(this.date=d,this.viewDate=e,this.setValue(),this.update(),a.preventDefault(),b=!0);break;case 13:this.hide();a.preventDefault();break;case 9:this.hide()}if(b){this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input"));f&&f.change()}}},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a)));this.picker.find("\x3ediv").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var g=function(a,c){this.element=b(a);this.inputs=b.map(c.inputs,function(a){return a.jquery?a[0]:a});delete c.inputs;b(this.inputs).datepicker(c).bind("changeDate",b.proxy(this.dateUpdated,this));this.pickers=b.map(this.inputs,function(a){return b(a).data("datepicker")});this.updateDates()};g.prototype={updateDates:function(){this.dates=b.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var a=b.map(this.dates,function(a){return a.valueOf()});b.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){var c=b(a.target).data("datepicker").getUTCDate();a=b.inArray(a.target,this.inputs);var d=this.inputs.length;if(-1!=a){if(c<this.dates[a])for(;0<=a&&c<this.dates[a];)this.pickers[a--].setUTCDate(c);else if(c>this.dates[a])for(;a<d&&c>this.dates[a];)this.pickers[a++].setUTCDate(c);this.updateDates()}},remove:function(){b.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};var f=b.fn.datepicker,h=b.fn.datepicker=function(c){var f=Array.apply(null,arguments);f.shift();var h;this.each(function(){var l=b(this),t=l.data("datepicker"),v="object"==typeof c&&c;if(!t){var t=a(this,"date"),m=b.extend({},k,t,v),m=e(m.language),v=b.extend({},k,m,t,v);l.is(".input-daterange")||v.inputs?(t={inputs:v.inputs||l.find("input").toArray()},l.data("datepicker",t=new g(this,b.extend(v,t)))):l.data("datepicker",t=new d(this,v))}if("string"==typeof c&&"function"==typeof t[c]&&(h=t[c].apply(t,f),void 0!==h))return!1});return void 0!==h?h:this},k=b.fn.datepicker.defaults={autoclose:!1,beforeShowDay:b.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},u=b.fn.datepicker.locale_opts=["format","rtl","weekStart"];b.fn.datepicker.Constructor=d;var n=b.fn.datepicker.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===a%400},getDaysInMonth:function(a,b){return[31,l.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(a,e,f){if(a instanceof Date)return a;"string"===typeof e&&(e=l.parseFormat(e));if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){var g=/([\-+]\d+)([dmwy])/,h=a.match(/([\-+]\d+)([dmwy])/g),k;a=new Date;for(var m=0;m<h.length;m++)switch(e=g.exec(h[m]),k=parseInt(e[1]),e[2]){case "d":a.setUTCDate(a.getUTCDate()+k);break;case "m":a=d.prototype.moveMonth.call(d.prototype,a,k);break;case "w":a.setUTCDate(a.getUTCDate()+7*k);break;case "y":a=d.prototype.moveYear.call(d.prototype,a,k)}return c(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}h=a&&a.match(this.nonpunctuation)||[];a=new Date;var g={},u="yyyy yy M MM m mm d dd".split(" ");k={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!=b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var q;k.M=k.MM=k.mm=k.m;k.dd=k.d;a=c(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);var p=e.parts.slice();h.length!=p.length&&(p=b(p).filter(function(a,c){return-1!==b.inArray(c,u)}).toArray());if(h.length==p.length){for(var m=0,w=p.length;m<w;m++){q=parseInt(h[m],10);e=p[m];if(isNaN(q))switch(e){case "MM":q=b(n[f].months).filter(function(){var a=this.slice(0,h[m].length),b=h[m].slice(0,a.length);return a==b});q=b.inArray(q[0],n[f].months)+1;break;case "M":q=b(n[f].monthsShort).filter(function(){var a=this.slice(0,h[m].length),b=h[m].slice(0,a.length);return a==b}),q=b.inArray(q[0],n[f].monthsShort)+1}g[e]=q}for(m=0;m<u.length;m++)if(e=u[m],e in g&&!isNaN(g[e]))k[e](a,g[e])}return a},formatDate:function(a,c,d){"string"===typeof c&&(c=l.parseFormat(c));d={d:a.getUTCDate(),D:n[d].daysShort[a.getUTCDay()],DD:n[d].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:n[d].monthsShort[a.getUTCMonth()],MM:n[d].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};d.dd=(10>d.d?"0":"")+d.d;d.mm=(10>d.m?"0":"")+d.m;a=[];for(var e=b.extend([],c.separators),f=0,g=c.parts.length;f<=g;f++)e.length&&a.push(e.shift()),a.push(d[c.parts[f]]);return a.join("")},headTemplate:'\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d"prev"\x3e\x3ci class\x3d"icon-arrow-left"/\x3e\x3c/th\x3e\x3cth colspan\x3d"5" class\x3d"datepicker-switch"\x3e\x3c/th\x3e\x3cth class\x3d"next"\x3e\x3ci class\x3d"icon-arrow-right"/\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e',contTemplate:'\x3ctbody\x3e\x3ctr\x3e\x3ctd colspan\x3d"7"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e',footTemplate:'\x3ctfoot\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"today"\x3e\x3c/th\x3e\x3c/tr\x3e\x3ctr\x3e\x3cth colspan\x3d"7" class\x3d"clear"\x3e\x3c/th\x3e\x3c/tr\x3e\x3c/tfoot\x3e'};l.template='\x3cdiv class\x3d"datepicker"\x3e\x3cdiv class\x3d"datepicker-days"\x3e\x3ctable class\x3d" table-condensed"\x3e'+l.headTemplate+"\x3ctbody\x3e\x3c/tbody\x3e"+l.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-months"\x3e\x3ctable class\x3d"table-condensed"\x3e'+l.headTemplate+l.contTemplate+l.footTemplate+'\x3c/table\x3e\x3c/div\x3e\x3cdiv class\x3d"datepicker-years"\x3e\x3ctable class\x3d"table-condensed"\x3e'+l.headTemplate+l.contTemplate+l.footTemplate+"\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e";b.fn.datepicker.DPGlobal=l;b.fn.datepicker.noConflict=function(){b.fn.datepicker=f;return this};b(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide\x3d"datepicker"]',function(a){var c=b(this);c.data("datepicker")||(a.preventDefault(),h.call(c,"show"))});b(function(){h.call(b('[data-provide\x3d"datepicker-inline"]'))})})(window.jQuery);(function(b){b.fn.bdatepicker=b.fn.datepicker.noConflict();b.fn.datepicker||(b.fn.datepicker=b.fn.bdatepicker);var c=function(a){this.init("date",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{initPicker:function(a,c){this.options.viewformat||(this.options.viewformat=this.options.format);a.datepicker=b.fn.editableutils.tryParseJson(a.datepicker,!0);this.options.datepicker=b.extend({},c.datepicker,a.datepicker,{format:this.options.viewformat});this.options.datepicker.language=this.options.datepicker.language||"en";this.dpg=b.fn.bdatepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker);this.options.clear&&(this.$clear=b('\x3ca href\x3d"#"\x3e\x3c/a\x3e').html(this.options.clear).click(b.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(b('\x3cdiv class\x3d"editable-clear"\x3e').append(this.$clear)))},value2html:function(a,b){var d=a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"";c.superclass.value2html.call(this,d,b)},html2value:function(a){return this.parseDate(a,this.parsedViewFormat)},value2str:function(a){return a?this.dpg.formatDate(a,this.parsedFormat,this.options.datepicker.language):""},str2value:function(a){return this.parseDate(a,this.parsedFormat)},value2submit:function(a){return this.value2str(a)},value2input:function(a){this.$input.bdatepicker("update",a)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(a){if(!b(a.currentTarget).is(".old")&&!b(a.currentTarget).is(".new")){var c=b(this).closest("form");setTimeout(function(){c.submit()},200)}})},parseDate:function(a,b){var c=null,g;a&&(c=this.dpg.parseDate(a,b,this.options.datepicker.language),"string"===typeof a&&(g=this.dpg.formatDate(c,b,this.options.datepicker.language),a!==g&&(c=null)));return c}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cdiv class\x3d"editable-date well"\x3e\x3c/div\x3e',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"\x26times; clear"});b.fn.editabletypes.date=c})(window.jQuery);(function(b){var c=function(a){this.init("datefield",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.date);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.bdatepicker(this.options.datepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.bdatepicker("update")},this))},value2input:function(a){this.$input.val(a?this.dpg.formatDate(a,this.parsedViewFormat,this.options.datepicker.language):"");this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.date.defaults,{tpl:'\x3cdiv class\x3d"input-append date"\x3e\x3cinput type\x3d"text"/\x3e\x3cspan class\x3d"add-on"\x3e\x3ci class\x3d"icon-th"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}});b.fn.editabletypes.datefield=c})(window.jQuery);(function(b){var c=function(a){this.init("datetime",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.abstractinput);b.extend(c.prototype,{initPicker:function(a,c){this.options.viewformat||(this.options.viewformat=this.options.format);a.datetimepicker=b.fn.editableutils.tryParseJson(a.datetimepicker,!0);this.options.datetimepicker=b.extend({},c.datetimepicker,a.datetimepicker,{format:this.options.viewformat});this.options.datetimepicker.language=this.options.datetimepicker.language||"en";this.dpg=b.fn.datetimepicker.DPGlobal;this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType);this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker);this.$input.on("changeMode",function(a){var c=b(this).closest("form").parent();setTimeout(function(){c.triggerHandler("resize")},0)});this.options.clear&&(this.$clear=b('\x3ca href\x3d"#"\x3e\x3c/a\x3e').html(this.options.clear).click(b.proxy(function(a){a.preventDefault();a.stopPropagation();this.clear()},this)),this.$tpl.parent().append(b('\x3cdiv class\x3d"editable-clear"\x3e').append(this.$clear)))},value2html:function(a,b){var d=a?this.dpg.formatDate(this.toUTC(a),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";if(b)c.superclass.value2html.call(this,d,b);else return d},html2value:function(a){return(a=this.parseDate(a,this.parsedViewFormat))?this.fromUTC(a):null},value2str:function(a){return a?this.dpg.formatDate(this.toUTC(a),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(a){return(a=this.parseDate(a,this.parsedFormat))?this.fromUTC(a):null},value2submit:function(a){return this.value2str(a)},value2input:function(a){a&&this.$input.data("datetimepicker").setDate(a)},input2value:function(){var a=this.$input.data("datetimepicker");return a.date?a.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null;this.$input.find(".active").removeClass("active");this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(a){var c=b(this).closest("form");setTimeout(function(){c.submit()},200)})},toUTC:function(a){return a?new Date(a.valueOf()-6E4*a.getTimezoneOffset()):a},fromUTC:function(a){return a?new Date(a.valueOf()+6E4*a.getTimezoneOffset()):a},parseDate:function(a,b){var c=null,g;a&&(c=this.dpg.parseDate(a,b,this.options.datetimepicker.language,this.options.formatType),"string"===typeof a&&(g=this.dpg.formatDate(c,b,this.options.datetimepicker.language,this.options.formatType),a!==g&&(c=null)));return c}});c.defaults=b.extend({},b.fn.editabletypes.abstractinput.defaults,{tpl:'\x3cdiv class\x3d"editable-date well"\x3e\x3c/div\x3e',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"\x26times; clear"});b.fn.editabletypes.datetime=c})(window.jQuery);(function(b){var c=function(a){this.init("datetimefield",a,c.defaults);this.initPicker(a,c.defaults)};b.fn.editableutils.inherit(c,b.fn.editabletypes.datetime);b.extend(c.prototype,{render:function(){this.$input=this.$tpl.find("input");this.setClass();this.setAttr("placeholder");this.$tpl.datetimepicker(this.options.datetimepicker);this.$input.off("focus keydown");this.$input.keyup(b.proxy(function(){this.$tpl.removeData("date");this.$tpl.datetimepicker("update")},this))},value2input:function(a){this.$input.val(this.value2html(a));this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){b.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}});c.defaults=b.extend({},b.fn.editabletypes.datetime.defaults,{tpl:'\x3cdiv class\x3d"input-append date"\x3e\x3cinput type\x3d"text"/\x3e\x3cspan class\x3d"add-on"\x3e\x3ci class\x3d"icon-th"\x3e\x3c/i\x3e\x3c/span\x3e\x3c/div\x3e',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}});b.fn.editabletypes.datetimefield=c})(window.jQuery);